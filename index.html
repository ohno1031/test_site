<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
　<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">

  <style type="text/css">
	/*
	position: fixed; - これにより、iframeがスクロールに追随して常に画面の同じ位置に表示されます。
	bottom: 10px; right: 10px; - 画面の右下に配置するための設定です。必要に応じて値を調整してください。
	width, height - iframeのサイズを指定します。PC版とスマホ版で異なるサイズを設定する場合は、メディアクエリを使用します。
	z-index: 1000; - 他の要素より前面に表示するための設定です。必要に応じて値を調整してください。
	*/
	
	/* styles.css */
	#dynamic-iframe {
	    position: fixed;
	    bottom: 10px; /* 画面の下からの距離 */
	    right: 10px;  /* 画面の右からの距離 */
	    width: 300px; /* 初期の幅 */
	    height: 500px; /* 高さは自動調整 */
	　　border: 1px solid #ccc; /* 任意のスタイル */
	    z-index: 1000; /* 他の要素より前面に表示 */
	    
	}
	
	/* スマホ版のスタイル調整 */
	@media (max-width: 600px) {
	    #dynamic-iframe {
	        width: 100px; /* スマホ版の幅 */
	        bottom: 5px; /* スマホ版の下からの距離 */
	        right: 5px;  /* スマホ版の右からの距離 */
	    }
	}
   </style>

</head>
<body>
<div>あいうえお</div>


---------------------
<div class="iframe-wrapper">
<iframe id="dynamic-iframe" src="https://cunning-badger-atqhau-dev-ed--c.vf.force.com/apex/jdsp_demo_iframe_chat" style="border:0; "></iframe>
</div>
---------------------
	
<!--
<script type='text/javascript'>
	function initEmbeddedMessaging() {
		try {
			embeddedservice_bootstrap.settings.language = 'ja'; // For example, enter 'en' or 'en-US'

			embeddedservice_bootstrap.init(
				'00D5h000004Mlc0',
				'testKumikomiBot',
				'https://cunning-badger-atqhau-dev-ed.my.site.com/ESWtestKumikomiBot1712575347719',
				{
					scrt2URL: 'https://cunning-badger-atqhau-dev-ed.my.salesforce-scrt.com'
				}
			);
		} catch (err) {
			console.error('Error loading Embedded Messaging: ', err);
		}
	};
</script>
<script type='text/javascript' src='https://cunning-badger-atqhau-dev-ed.my.site.com/ESWtestKumikomiBot1712575347719/assets/js/bootstrap.min.js' onload='initEmbeddedMessaging()'></script>
-->

<script type='text/javascript'>
	/*
	 iframeの高さを動的に調整:
	
	adjustIframeHeight 関数は、iframeのコンテンツの高さを取得し、その高さに基づいてiframeの高さを設定します。
	iframe.contentWindow.document.body.scrollHeight を使用して、iframe内のコンテンツの高さを取得します。
	iframeの読み込み後に高さを調整:
	
	iframe の onload イベントを使用して、コンテンツが読み込まれた後に高さを調整します。
	ウィンドウのリサイズ時に高さを調整:
	
	ウィンドウのリサイズイベントをリスンして、iframeの高さを再調整します。これにより、ウィンドウサイズが変更された場合でもiframeの高さが適切に調整されます。
	*/

	// script.js
	
	function adjustIframeHeight() {
	    var iframe = document.getElementById('dynamic-iframe');
	    if (iframe.contentWindow.document.body) {
	        iframe.style.height = iframe.contentWindow.document.body.scrollHeight + 'px';
	    }
	}
	
	// iframeのコンテンツが読み込まれた後に高さを調整
	document.getElementById('dynamic-iframe').onload = function() {
	    adjustIframeHeight();
	};
	
	// iframeのコンテンツが動的に変更された場合に高さを調整
	window.addEventListener('resize', adjustIframeHeight);
 
</script>
	
</body>
</html>
